<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>DoNow â€” Enhanced</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --accent1:#6b21a8;
      --accent2:#06b6d4;
      --muted:#6b7280;
      --card:#ffffff;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      display:flex;
      justify-content:center;
      padding:20px;
      background:linear-gradient(160deg,#f3f6ff,#fffaf6);
      min-height:100vh;
      color:#071133;
    }
    .viewport{max-width:420px;width:100%}
    .top{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
    .logo-wrap{display:flex;gap:12px;align-items:center}
    .logo-img{width:56px;height:56px;border-radius:14px;overflow:hidden;box-shadow:0 10px 30px rgba(2,6,23,0.06)}
    .brand h1{margin:0;font-size:18px}
    .brand p{margin:0;font-size:12px;color:var(--muted)}
    .card{background:var(--card);border-radius:18px;padding:16px;margin-bottom:12px;box-shadow:0 10px 30px rgba(12,14,30,0.06)}
    .progress{display:flex;gap:14px;align-items:center}
    .ring{width:86px;height:86px;border-radius:999px;display:grid;place-items:center;background:conic-gradient(var(--accent1),var(--accent2) 160deg,#e9f5ff 240deg)}
    .ring .inner{width:68px;height:68px;border-radius:999px;background:linear-gradient(180deg,#fff,#fbfbff);display:grid;place-items:center;font-weight:800}
    .cta-row{display:flex;gap:10px;margin-top:12px}
    .btn{padding:10px;border-radius:12px;border:none;font-weight:700;cursor:pointer}
    .btn-primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;box-shadow:0 8px 18px rgba(99,102,241,0.12)}
    .btn-ghost{background:transparent;border:1px solid rgba(0,0,0,0.06);border-radius:12px;padding:10px;font-weight:700;cursor:pointer}
    .action-card{display:flex;flex-direction:column;gap:12px;padding:14px;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,0.6),rgba(255,255,255,0.9));border:1px solid rgba(10,12,34,0.03)}
    .time-circle{width:64px;height:64px;border-radius:999px;background:linear-gradient(180deg,#fff,#fbfbff);display:grid;place-items:center;font-weight:800}
    .rewards-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .reward{padding:10px;border-radius:12px;background:var(--card);border:1px solid rgba(10,12,34,0.03)}
    .meta{font-size:12px;color:var(--muted);text-align:center;margin-top:10px}
    @media (max-width:420px){
      .ring{width:78px;height:78px}
      .ring .inner{width:60px;height:60px}
      .time-circle{width:56px;height:56px}
    }
  </style>
</head>
<body>
  <div class="viewport">
    <!-- Top -->
    <div class="top">
      <div class="logo-wrap">
        <div class="logo-img">
          <!-- Make sure donow_logo.svg exists in the repo root -->
          <img src="donow_logo.svg" alt="DoNow" style="width:100%;height:100%;object-fit:cover">
        </div>
        <div class="brand">
          <h1>DoNow</h1>
          <p>Change your life 2 minutes at a time</p>
        </div>
      </div>

      <div style="text-align:right">
        <div style="font-size:12px;color:var(--muted)">Streak</div>
        <div style="font-weight:800"><span id="streakTop">3</span> ðŸ”¥</div>
      </div>
    </div>

    <!-- Progress -->
    <div class="card">
      <div class="progress">
        <div class="ring" id="progressRing"><div class="inner" id="pointsInner">120</div></div>
        <div style="flex:1">
          <div style="font-weight:800">Daily Momentum</div>
          <div style="color:var(--muted);margin-top:6px">Complete tiny actions to build streaks and earn points. Start with a single goal.</div>
          <div class="cta-row">
            <button class="btn btn-primary" id="startBtn">Start 1 micro-action</button>
            <button class="btn-ghost" id="goalsBtn">Change goal</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Action card -->
    <div class="card action-card" id="actionCard">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <div style="font-weight:800" id="actionTitle">Do one tiny step for: <span id="goalLabel">Fitness â€” start gym</span></div>
          <div style="color:var(--muted);margin-top:6px" id="actionSub">Write one quick idea, do 5 squats, or read one paragraph â€” under 2 minutes.</div>
        </div>
        <div class="time-circle" id="timeCircle">2:00</div>
      </div>

      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
        <div style="font-weight:700" id="actionTip">Start with 5 squats</div>
        <div style="display:flex;gap:8px">
          <button class="btn btn-primary" id="lockBtn">Lock & Start</button>
          <button class="btn-ghost" id="doneBtn">I finished</button>
        </div>
      </div>

      <div style="margin-top:10px;padding:10px;border-radius:10px;border:1px dashed rgba(6,182,212,0.12);background:linear-gradient(180deg,rgba(6,182,212,0.03),transparent);color:var(--accent2);font-weight:600" id="lockDemo">
        Demo: Instagram, YouTube, Games would be paused (Android Accessibility in the real app).
      </div>
    </div>

    <!-- Rewards -->
    <div class="card">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
        <div style="font-weight:800">Rewards</div>
        <div style="color:var(--muted)">Points: <span id="pointsDisplay">120</span></div>
      </div>

      <div class="rewards-grid">
        <div class="reward">
          <div style="font-weight:700">â‚¹50 off â€” Fitness brand</div>
          <div style="color:var(--muted)">Cost: 100 pts</div>
          <div style="display:flex;justify-content:flex-end;margin-top:8px"><button class="btn btn-primary" onclick="redeem(100)">Redeem</button></div>
        </div>

        <div class="reward">
          <div style="font-weight:700">1 month â€” Premium Coach</div>
          <div style="color:var(--muted)">Cost: 500 pts</div>
          <div style="display:flex;justify-content:flex-end;margin-top:8px"><button class="btn btn-primary" onclick="redeem(500)">Redeem</button></div>
        </div>
      </div>
    </div>

    <div class="meta">Built for momentum â€¢ Tiny steps &gt; big results</div>
  </div>

  <script>
    // App state
    const state = {
      goal: 'Fitness â€” start gym',
      microTip: 'Do 5 squats',
      points: 120,
      streak: 3,
      timerSec: 120,
      timerId: null,
      running: false
    };

    // DOM refs
    const pointsInner = document.getElementById('pointsInner');
    const pointsDisplay = document.getElementById('pointsDisplay');
    const streakTop = document.getElementById('streakTop');
    const goalLabel = document.getElementById('goalLabel');
    const actionTip = document.getElementById('actionTip');
    const timeCircle = document.getElementById('timeCircle');
    const startBtn = document.getElementById('startBtn');
    const lockBtn = document.getElementById('lockBtn');
    const doneBtn = document.getElementById('doneBtn');
    const goalsBtn = document.getElementById('goalsBtn');

    function render() {
      goalLabel.innerText = state.goal;
      actionTip.innerText = state.microTip;
      pointsDisplay.innerText = state.points;
      pointsInner.innerText = state.points;
      streakTop.innerText = state.streak;
      updateTimeText();
    }

    function updateTimeText() {
      const m = Math.floor(state.timerSec / 60);
      const s = String(state.timerSec % 60).padStart(2, '0');
      timeCircle.innerText = `${m}:${s}`;
    }

    function startTimer() {
      if (state.running) return;
      state.running = true;
      state.timerSec = 120;
      updateTimeText();
      startBtn.disabled = true;
      startBtn.innerText = 'In progress...';
      state.timerId = setInterval(() => {
        state.timerSec -= 1;
        updateTimeText();
        if (state.timerSec <= 0) {
          clearInterval(state.timerId);
          finishAction(true);
        }
      }, 1000);
    }

    function finishAction(auto = false) {
      if (state.timerId) { clearInterval(state.timerId); state.timerId = null; }
      state.running = false;
      state.points += 10;
      state.streak += 1;
      const tips = ['Do 5 squats', 'Write 1 sentence', 'Read 1 paragraph', 'Add 1 idea to notes', 'Do 3 pushups'];
      state.microTip = tips[Math.floor(Math.random() * tips.length)];
      render();
      startBtn.disabled = false;
      startBtn.innerText = 'Start 1 micro-action';
      alert(auto ? 'Time is up â€” +10 pts' : 'Nice â€” +10 pts');
    }

    function redeem(cost) {
      if (state.points >= cost) {
        state.points -= cost;
        render();
        alert('Redeemed â€” demo coupon sent');
      } else {
        alert('Not enough points');
      }
    }

    // events
    startBtn.addEventListener('click', startTimer);
    lockBtn.addEventListener('click', () => { startTimer(); alert('Lock started (demo) â€” focus.'); });
    doneBtn.addEventListener('click', () => { finishAction(false); });
    goalsBtn.addEventListener('click', () => {
      const g = prompt('Type your single goal (example: Learn guitar)', state.goal);
      if (g && g.trim()) { state.goal = g.trim(); render(); }
    });

    // subtle ring rotation
    (function animateRing(){
      const ring = document.getElementById('progressRing');
      let deg = 0;
      setInterval(()=> {
        deg = (deg + 0.8) % 360;
        ring.style.background = `conic-gradient(from ${deg}deg, var(--accent1), var(--accent2) 140deg, #e9f5ff 240deg)`;
      }, 50);
    })();

    // initial render
    render();
  </script>
</body>
</html>
