<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>DoNow â€” Micro-Commitment Action Coach</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<style>
  :root{
    --bg-1: #f7f9fc;
    --accent-1: #6b21a8; /* purple */
    --accent-2: #06b6d4; /* teal */
    --muted: #6b7280;
    --card: #ffffff;
    --glass: rgba(255,255,255,0.6);
    --radius: 18px;
    --glass-2: rgba(255,255,255,0.8);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    background: linear-gradient(160deg,#f3f6ff 0%, #f8fbf9 50%, #fffaf6 100%);
    -webkit-font-smoothing:antialiased;
    color: #071133;
    padding:18px;
    display:flex;
    justify-content:center;
    align-items:flex-start;
    min-height:100vh;
  }

  /* viewport container like mobile */
  .viewport{
    width:100%;
    max-width:420px;
    margin:12px auto;
  }

  .topbar{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    margin-bottom:16px;
  }
  .brand{
    display:flex;
    gap:12px;
    align-items:center;
  }
  .logo{
    width:46px;height:46px;border-radius:12px;
    background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
    display:flex;align-items:center;justify-content:center;color:white;font-weight:800;
    box-shadow: 0 8px 24px rgba(99,102,241,0.12);
    font-size:18px;
  }
  .brand h1{margin:0;font-size:18px;letter-spacing:-0.2px}
  .brand p{margin:0;font-size:12px;color:var(--muted)}

  .card{
    background:var(--card);
    border-radius:20px;
    padding:16px;
    box-shadow: 0 10px 30px rgba(12,14,30,0.06);
    margin-bottom:14px;
    overflow:hidden;
  }

  /* progress row */
  .progress-row{display:flex;gap:12px;align-items:center}
  .ring{
    width:78px;height:78px;border-radius:999px;display:grid;place-items:center;
    background:conic-gradient(var(--accent-1) 0deg, var(--accent-2) 140deg, #e6eefc 240deg);
    box-shadow: inset 0 -6px 16px rgba(0,0,0,0.04);
    position:relative;
  }
  .ring .inner{
    width:64px;height:64px;border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,0.9),#fff);
    display:grid;place-items:center;font-weight:700;
  }
  .stats{flex:1}
  .stats .streak{font-size:14px;font-weight:700}
  .stats .desc{font-size:12px;color:var(--muted);margin-top:6px}

  .cta-row{display:flex;gap:10px;margin-top:12px}
  .btn{flex:1;padding:11px 12px;border-radius:12px;border:none;cursor:pointer;font-weight:700}
  .btn-primary{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:white;box-shadow:0 8px 18px rgba(99,102,241,0.12)}
  .btn-ghost{background:transparent;border:1px solid #eef2ff;color:var(--accent-1)}

  /* micro-action card */
  .action-card{
    display:flex;flex-direction:column;gap:12px;
    padding:14px;border-radius:14px;background:linear-gradient(180deg,rgba(10,12,34,0.02),rgba(255,255,255,0.6));
    border:1px solid rgba(20,24,48,0.03);
  }
  .action-title{font-weight:700;font-size:16px}
  .action-sub{font-size:13px;color:var(--muted)}
  .timer-row{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:6px}
  .timer-pill{display:flex;gap:10px;align-items:center}
  .time-circle{width:56px;height:56px;border-radius:999px;background:linear-gradient(135deg,#fff,#fbfbff);display:grid;place-items:center;font-weight:800}
  .small-muted{font-size:12px;color:var(--muted)}

  /* lock demo */
  .lock-demo{margin-top:8px;padding:10px;border-radius:10px;border:1px dashed rgba(6,182,212,0.12);background:linear-gradient(180deg,rgba(6,182,212,0.03),transparent);color:var(--accent-2);font-weight:600;font-size:13px}

  /* rewards */
  .rewards-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .reward{padding:10px;border-radius:12px;background:#fff;border:1px solid rgba(10,12,34,0.03);display:flex;flex-direction:column;gap:6px}

  /* footer */
  .meta{font-size:12px;color:var(--muted);text-align:center;margin-top:10px}

  /* small animations */
  .fade-enter{opacity:0;transform:translateY(6px)}
  .fade-enter.fade-enter-active{opacity:1;transform:translateY(0);transition:all .28s cubic-bezier(.2,.9,.3,1)}
  .pulse{animation:pulse 2s infinite}
  @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}100%{transform:scale(1)}}

  /* responsive */
  @media (max-width:420px){
    .ring{width:70px;height:70px}
    .ring .inner{width:56px;height:56px}
    .time-circle{width:48px;height:48px}
  }
</style>
</head>
<body>
  <div class="viewport">

    <!-- Top -->
    <div class="topbar">
      <div class="brand">
        <div class="logo">DN</div>
        <div>
          <h1>DoNow</h1>
          <p>Change your life 2 minutes at a time</p>
        </div>
      </div>
      <div style="text-align:right">
        <div style="font-size:12px;color:var(--muted)">Streak</div>
        <div style="font-weight:800;font-size:14px"> <span id="streakTop">3</span> ðŸ”¥</div>
      </div>
    </div>

    <!-- Progress card -->
    <div class="card">
      <div class="progress-row">
        <div class="ring pulse" id="progressRing" aria-hidden="true">
          <div class="inner" id="pointsInner">120</div>
        </div>

        <div class="stats">
          <div class="streak">Daily Momentum</div>
          <div class="desc">Complete tiny actions to build streaks and earn points. Start with a single goal.</div>

          <div class="cta-row">
            <button class="btn btn-primary" id="startBtn">Start 1 micro-action</button>
            <button class="btn btn-ghost" id="goalsBtn">Change goal</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Action -->
    <div class="card action-card" id="actionCard">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <div class="action-title" id="actionTitle">Do one tiny step for: <span id="goalLabel">Fitness â€” start gym</span></div>
          <div class="action-sub" id="actionSub">Write one quick idea, do 5 squats, or read one paragraph â€” under 2 minutes.</div>
        </div>
        <div class="small-muted">Easy â€¢ 2 min</div>
      </div>

      <div class="timer-row">
        <div class="timer-pill">
          <div class="time-circle" id="timeCircle">2:00</div>
          <div>
            <div style="font-weight:700" id="actionTip">Start with 5 squats</div>
            <div class="small-muted">Micro-action</div>
          </div>
        </div>

        <div style="display:flex;flex-direction:column;gap:8px;align-items:flex-end">
          <button class="btn btn-primary" id="lockBtn">Lock & Start</button>
          <button class="btn btn-ghost" id="doneBtn">I finished</button>
        </div>
      </div>

      <div class="lock-demo" id="lockDemo">Demo: Instagram, YouTube, Games would be paused (Android Accessibility in the real app).</div>
    </div>

    <!-- Rewards -->
    <div class="card">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
        <div style="font-weight:700">Rewards</div>
        <div class="small-muted">Points: <span id="pointsDisplay">120</span></div>
      </div>

      <div class="rewards-grid">
        <div class="reward">
          <div style="font-weight:700">â‚¹50 off â€” Fitness brand</div>
          <div class="small-muted">Cost: 100 pts</div>
          <div style="margin-top:auto;display:flex;justify-content:flex-end">
            <button class="btn btn-primary" onclick="redeem(100)">Redeem</button>
          </div>
        </div>
        <div class="reward">
          <div style="font-weight:700">1 month â€” Premium Coach</div>
          <div class="small-muted">Cost: 500 pts</div>
          <div style="margin-top:auto;display:flex;justify-content:flex-end">
            <button class="btn btn-primary" onclick="redeem(500)">Redeem</button>
          </div>
        </div>
      </div>
    </div>

    <div class="meta">Built for momentum â€¢ Tiny steps > big results</div>
  </div>

<script>
  // Simple state and UI wiring
  const state = {
    goal: 'Fitness â€” start gym',
    microTip: 'Do 5 squats',
    points: 120,
    streak: 3,
    timerSec: 120,
    timerId: null,
    running: false
  };

  // UI refs
  const goalLabel = document.getElementById('goalLabel');
  const actionTip = document.getElementById('actionTip');
  const timeCircle = document.getElementById('timeCircle');
  const pointsDisplay = document.getElementById('pointsDisplay');
  const pointsInner = document.getElementById('pointsInner');
  const streakTop = document.getElementById('streakTop');
  const actionTitle = document.getElementById('actionTitle');

  function render() {
    goalLabel.innerText = state.goal;
    actionTip.innerText = state.microTip;
    pointsDisplay.innerText = state.points;
    pointsInner.innerText = state.points;
    streakTop.innerText = state.streak;
    updateTimeText();
  }

  function updateTimeText() {
    const m = Math.floor(state.timerSec / 60);
    const s = Math.floor(state.timerSec % 60).toString().padStart(2,'0');
    timeCircle.innerText = `${m}:${s}`;
  }

  // Start a micro-action timer
  function startTimer() {
    if (state.running) return;
    state.running = true;
    // reset seconds
    state.timerSec = 120;
    updateTimeText();
    // animate ring slightly by adding class
    const startButton = document.getElementById('startBtn');
    startButton.innerText = 'In progress...';
    startButton.disabled = true;

    state.timerId = setInterval(()=> {
      state.timerSec -= 1;
      updateTimeText();
      if (state.timerSec <= 0) {
        clearInterval(state.timerId);
        finishAction(true);
      }
    }, 1000);
  }

  function finishAction(auto=false) {
    if (state.timerId) { clearInterval(state.timerId); state.timerId = null; }
    state.running = false;
    // reward points
    state.points += 10;
    state.streak += 1;
    // small micro-tip rotate
    const tips = [
      'Do 5 squats',
      'Write 1 sentence about your day',
      'Read 1 paragraph',
      'Open notes and add 1 idea',
      'Do 3 pushups'
    ];
    state.microTip = tips[Math.floor(Math.random()*tips.length)];
    // UI updates
    render();
    const startButton = document.getElementById('startBtn');
    startButton.innerText = 'Start 1 micro-action';
    startButton.disabled = false;

    if (auto) {
      alert('Nice â€” time is up and you completed the micro-action! +10 pts');
    } else {
      alert('Nice â€” you did it! +10 pts');
    }
  }

  function redeem(cost){
    if (state.points >= cost){
      state.points -= cost;
      render();
      alert('Redeemed â€” demo coupon sent (pretend).');
    } else {
      alert('Not enough points yet. Keep going!');
    }
  }

  // UI events
  document.getElementById('startBtn').addEventListener('click', ()=> {
    startTimer();
  });
  document.getElementById('lockBtn').addEventListener('click', ()=> {
    // in real app: trigger AccessibilityService
    startTimer();
    alert('Lock started (demo). Focus on the tiny action.');
  });
  document.getElementById('doneBtn').addEventListener('click', ()=> {
    finishAction(false);
  });
  document.getElementById('goalsBtn').addEventListener('click', ()=> {
    const g = prompt('Type your single goal (example: Learn guitar)', state.goal);
    if (g && g.trim()){
      state.goal = g.trim();
      render();
    }
  });

  // initial render
  render();

  // small: auto rotate subtle gradient on ring for nicer visual
  (function animateRing(){
    const ring = document.getElementById('progressRing');
    let deg = 0;
    setInterval(()=> {
      deg = (deg + 1.2) % 360;
      ring.style.background = `conic-gradient(from ${deg}deg, var(--accent-1), var(--accent-2) 140deg, #e6eefc 240deg)`;
    }, 40);
  })();

</script>
</body>
</html>
